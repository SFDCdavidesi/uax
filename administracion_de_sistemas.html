<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UAX - Test Definitivo Administraci√≥n de Sistemas</title>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --success: #059669;
            --error: #dc2626;
            --bg: #f8fafc;
            --card: #ffffff;
            --text: #1e293b;
            --text-light: #64748b;
        }

        * { box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            line-height: 1.5;
        }

        .header {
            position: sticky;
            top: 0;
            background: var(--card);
            width: 100%;
            max-width: 850px;
            padding: 15px 20px;
            border-bottom: 2px solid #e2e8f0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            z-index: 1000;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .stat { text-align: center; }
        .stat-val { display: block; font-weight: 800; font-size: 1.4rem; color: var(--primary); }
        .stat-label { font-size: 0.7rem; color: var(--text-light); text-transform: uppercase; letter-spacing: 0.5px; }

        .controls {
            grid-column: span 3;
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .btn {
            flex: 1;
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn:hover { background: var(--primary-dark); transform: translateY(-1px); }
        .btn-secondary { background: #64748b; }

        .quiz-container { 
            width: 100%; 
            max-width: 850px; 
            padding: 25px 15px;
        }

        .q-card {
            background: var(--card);
            padding: 28px;
            border-radius: 16px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }

        .theme-badge {
            display: inline-block;
            background: #e0f2fe;
            color: #0369a1;
            padding: 4px 14px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            margin-bottom: 15px;
            text-transform: uppercase;
            border: 1px solid #bae6fd;
        }

        .question-text {
            font-size: 1.15rem;
            font-weight: 600;
            margin-bottom: 22px;
            color: var(--text);
            line-height: 1.4;
        }

        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 16px 20px;
            border: 2px solid #f1f5f9;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
            background: #ffffff;
            position: relative;
        }

        .option:hover:not(.disabled) {
            border-color: var(--primary);
            background: #f8fafc;
        }

        .disabled { cursor: default; }
        
        .correct { 
            background: #dcfce7 !important; 
            border-color: var(--success) !important; 
            color: #166534; 
            font-weight: 600;
        }
        
        .wrong { 
            background: #fee2e2 !important; 
            border-color: var(--error) !important; 
            color: #991b1b; 
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(5px);
            z-index: 2000;
        }

        #results-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 40px;
            border-radius: 24px;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.3);
            text-align: center;
            z-index: 2001;
            width: 90%;
            max-width: 480px;
        }

        .score-circle {
            width: 110px;
            height: 110px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            font-weight: 800;
            margin: 0 auto 25px;
            border: 5px solid rgba(255,255,255,0.2);
        }

        @media (max-width: 600px) {
            .header { padding: 12px; }
            .stat-val { font-size: 1.1rem; }
            .question-text { font-size: 1.05rem; }
            .btn { font-size: 0.85rem; padding: 10px; }
            .q-card { padding: 20px; }
        }
    </style>
</head>
<body>

    <div class="header" id="top">
        <div class="stat"><span class="stat-val" id="hits">0</span><span class="stat-label">Aciertos</span></div>
        <div class="stat"><span class="stat-val" id="fails">0</span><span class="stat-label">Fallos</span></div>
        <div class="stat"><span class="stat-val" id="current">0/100</span><span class="stat-label">Progreso</span></div>
        <div class="controls">
            <button class="btn" onclick="initQuiz(true)">üé≤ Mezclar Todo</button>
            <button class="btn btn-secondary" onclick="initQuiz(false)">üìã Orden Original</button>
        </div>
    </div>

    <div class="quiz-container" id="quiz-box"></div>

    <div class="overlay" id="overlay"></div>
    <div id="results-modal">
        <div class="score-circle" id="final-grade">0</div>
        <h2 id="result-title">¬°Test Completado!</h2>
        <div id="final-stats" style="margin: 20px 0; font-size: 1.1rem; line-height: 1.6;"></div>
        <button class="btn" style="width:100%" onclick="closeModal()">üîç Ver mis respuestas</button>
        <button class="btn btn-secondary" style="width:100%; margin-top:12px" onclick="initQuiz(true); closeModal();">üÜï Reiniciar Mezclado</button>
    </div>

    <script>
        const rawQuestions = [
            // BLOQUE 1: SIMULACRO DE EXAMEN (1-50)
            {u:"Servicios Windows", q:"1. El servicio que debo desplegar en Windows para instalar un servidor de ficheros es...", o:["a. Ninguna de las respuestas es correcta.", "b. File and Storage Services.", "c. Files and network units Services.", "d. Files and Folders Services."], c:1},
            {u:"Seguridad", q:"2. ¬øQu√© puerto se emplea para la autenticaci√≥n por SSH?", o:["a. 23.", "b. 22.", "c. 33.", "d. 21."], c:1},
            {u:"Directorio Activo", q:"3. El m√©todo de control de acceso a red empleado por un servidor de directorio activo es...", o:["a. 801.x. (Nota: Referencia al est√°ndar 802.1X)", "b. Kerberos.", "c. LDAP.", "d. Todas las respuestas son correctas."], c:3},
            {u:"Virtualizaci√≥n", q:"4. ¬øQu√© extensi√≥n tiene el fichero que me permite desplegar una m√°quina preconfigurada en VirtualBox?", o:["a. .ofv.", "b. .osa.", "c. .ova.", "d. Ninguna de las respuestas es correcta."], c:2},
            {u:"Seguridad / Firewall", q:"5. En un firewall nos encontramos la siguiente regla: 192.168.1.100 --- 190.146.2.200 --- FTP --- Deny", o:["a. La ip 190.146.2.200 no podr√° acceder a la ip 192.168.1.100 por el puerto 21.", "b. La ip 192.168.1.100 no podr√° acceder a la ip 190.146.2.200 por el puerto 21.", "c. La ip 192.168.1.100 podr√° acceder a la ip 190.146.2.200 por el puerto 21.", "d. Ninguna de las respuestas es correcta."], c:1},
            {u:"Seguridad", q:"6. ¬øQu√© nombre recibe la parte de un exploit donde se define la acci√≥n del mismo al ejecutarse?", o:["a. Payload.", "b. Paintball.", "c. Payball.", "d. Ninguna de las respuestas es correcta."], c:0},
            {u:"Cultura IT", q:"7. Bill Gates sufri√≥ un pantallazo azul en la presentaci√≥n de...", o:["a. Windows 3.1.", "b. Windows 98.", "c. Ninguna de las respuestas es correcta.", "d. Windows 95."], c:1},
            {u:"Radius / WiFi", q:"8. ¬øPuede de alguna manera un servidor Radius controlar el acceso a la red?", o:["a. Si, s√≥lo si se trata de una red WiFi.", "b. No, est√° enfocado a sistemas operativos, clientes y servidores.", "c. Si.", "d. Todas las anteriores son correctas."], c:2},
            {u:"Seguridad / Redes", q:"9. El anonimato en la DarkNet o DeepWeb se pretende conseguir entre otras cosas mediante...", o:["a. Una red de servidores Proxy.", "b. Ninguna de las respuestas es correcta.", "c. Una red de servidores DHCP que van cambiando las direcciones IP.", "d. Una red de servidores DNS."], c:0},
            {u:"Redes / DNS", q:"10. Un servidor DNS relaciona...", o:["a. Nombres con Direcciones IP.", "b. Direcciones IP con Direcciones MAC.", "c. Direcciones IP con usuarios.", "d. Ninguna de las respuestas es correcta."], c:0},
            {u:"Seguridad / Malware", q:"11. Un virus con una reverse shell en su c√≥digo pretende...", o:["a. Provocar una denegaci√≥n de servicio.", "b. Ninguna de las respuestas es correcta.", "c. La obtenci√≥n de credenciales.", "d. El control remoto de la m√°quina."], c:3},
            {u:"Seguridad", q:"12. Un ataque de tipo Phishing consiste en...", o:["a. Un ataque de denegaci√≥n de servicio.", "b. Ninguna de las respuestas es correcta.", "c. Clonar una web y posteriormente enviar un link a la v√≠ctima para que haga click y acceda a la web maliciosa.", "d. Una modificaci√≥n en las solicitudes DNS."], c:2},
            {u:"Radius", q:"13. La contrase√±a compartida entre un servidor Radius instalado en Windows y un cliente se configura en...", o:["a. En el servidor LDAP.", "b. En el propio cliente y el servidor LDAP.", "c. Solo En el propio cliente.", "d. Ninguna de las respuestas es correcta. (Se configura en el Cliente RADIUS y en el Servidor NPS)."], c:3},
            {u:"Virtualizaci√≥n", q:"14. Si tengo una m√°quina anfitri√≥n con 16GB de RAM, ¬øCu√°ntas m√°quinas puedo tener configuradas en VirtualBox?", o:["a. 1.", "b. Ninguna respuesta es correcta. (Configuradas puedo tener infinitas, encendidas depende de la RAM).", "c. Todas las que necesite.", "d. 4."], c:2},
            {u:"Seguridad / Web", q:"15. Un ataque de tipo XSS consiste en...", o:["a. El cifrado de los ficheros del equipo de la v√≠ctima para solicitar dinero a cambio de la clave de descifrado.", "b. Ninguna de las respuestas es correcta.", "c. La modificaci√≥n de par√°metros en un formulario web.", "d. Inyecci√≥n de c√≥digo malicioso en un √°rea de texto de una p√°gina web."], c:3},
            {u:"Seguridad / Firewall", q:"16. Una de las t√©cnicas empleadas por un atacante para intentar evadir los firewalls se denomina...", o:["a. Tunneling.", "b. Ninguna de las respuestas es correcta.", "c. VPN.", "d. Ofuscaci√≥n."], c:0},
            {u:"Seguridad / Firewall", q:"17. En un Firewall nos encontramos la siguiente regla: 192.168.1.100 --- 190.146.2.200 --- HTTP --- Deny", o:["a. La ip 192.168.1.100 podr√° acceder a la ip 190.146.2.200 por el puerto 443.", "b. La ip 190.146.2.200 no podr√° acceder a la ip 192.168.1.100 por el puerto 443.", "c. La ip 192.168.1.100 no podr√° acceder a la ip 190.146.2.200 por el puerto 443.", "d. Ninguna de las respuestas es correcta."], c:0},
            {u:"Seguridad / Radius", q:"18. ¬øQu√© pol√≠tica debe seguirse hoy en d√≠a en la configuraci√≥n de Radius?", o:["a. Permisiva.", "b. Todas las respuestas son correctas.", "c. Restrictiva.", "d. Permisiva o restrictiva."], c:2},
            {u:"Directorio Activo", q:"19. A nivel de seguridad un Directorio Activo nos permite...", o:["a. Obligar a los usuarios a cumplir una pol√≠tica de contrase√±as.", "b. Asignar las direcciones IP de las m√°quinas de forma controlada.", "c. Ninguna de las respuestas es correcta.", "d. Filtrar las direcciones IP por direcci√≥n MAC."], c:0},
            {u:"WiFi / LDAP", q:"20. La autenticaci√≥n de usuarios para una red WiFi de usuarios corporativos se realizar√°...", o:["a. Mediante la consulta a una base de datos en un servidor web.", "b. Mediante una consulta a una base de datos local.", "c. Ninguna de las respuestas es correcta.", "d. Mediante una consulta a nuestro servidor LDAP."], c:3},
            {u:"Directorio Activo", q:"21. ¬øPuede un usuario pertenecer a varios grupos de usuario en un Directorio Activo?", o:["a. S√≠, pero la cuenta debe ser de administrador.", "b. Ninguna de las anteriores.", "c. S√≠, cualquier usuario puede pertenecer a varios grupos de usuario.", "d. No, un usuario s√≥lo puede pertenecer a un grupo de usuarios."], c:2},
            {u:"Radius / WiFi", q:"22. En una red WiFi gestionada sin controlador que utiliza un servidor Radius como m√©todo de autenticaci√≥n... ¬øQu√© clientes deber√© configurar en el servidor Radius?", o:["a. Todos los puntos de acceso de la red.", "b. Las direcciones IP de los puntos de acceso y la del controlador.", "c. La direcci√≥n de red que abarca todos los puntos de acceso de la red.", "d. La direcci√≥n IP del controlador."], c:0},
            {u:"Servidores Web", q:"23. Si tengo un servidor web sobre Apache...", o:["a. Ninguna de las respuestas es correcta.", "b. Puede ser una m√°quina Windows o Linux.", "c. Es una m√°quina Windows.", "d. Es una m√°quina Linux."], c:1},
            {u:"Directorio Activo", q:"24. Para que un cliente pueda asociarse a un dominio es necesario...", o:["a. Estar en la misma red.", "b. Ninguna de las respuestas es correcta.", "c. Deben poder hacerse Ping entre el servidor y el cliente.", "d. Ambos deben tener el mismo sistema operativo."], c:2},
            {u:"Virtualizaci√≥n / Redes", q:"25. La comunicaci√≥n entre dos m√°quinas virtuales configuradas en un mismo servidor se realiza...", o:["a. Ninguna de las respuestas es correcta.", "b. Mediante un Switch virtual dentro del servidor.", "c. Depende de la configuraci√≥n IP de las dos m√°quinas.", "d. Mediante la tarjeta de red del hardware anfitri√≥n."], c:1},
            {u:"Radius", q:"26. ¬øPuede un servidor Radius gestionar el acceso a otros servidores?", o:["a. S√≠, incluso el nivel de acceso.", "b. No, los servidores requieren cuentas de administraci√≥n locales.", "c. No, se emplea para el control de acceso a clientes, no a servidores.", "d. Ninguna de las anteriores."], c:0},
            {u:"Virtualizaci√≥n / Redes", q:"27. Si quiero que mi equipo anfitri√≥n y las m√°quinas virtuales creadas en √©l formen parte de la misma LAN y tengan conexi√≥n a internet... ¬øC√≥mo configuro la red?", o:["a. Anfitri√≥n.", "b. Bridge.", "c. NAT.", "d. Ninguna de las respuestas es correcta."], c:1},
            {u:"Radius / Windows", q:"28. El control de acceso de usuarios en un servidor Radius instalado en Windows se realiza...", o:["a. En la configuraci√≥n de los clientes Radius.", "b. En las pol√≠ticas de conexi√≥n.", "c. En las pol√≠ticas de acceso.", "d. Ninguna de las respuestas es correcta."], c:2},
            {u:"Directorio Activo / DNS", q:"29. ¬øPor qu√© es necesaria la instalaci√≥n de un servidor DNS cuando desplegamos un servidor de Directorio Activo?", o:["a. Para que los clientes puedan asociarse al dominio.", "b. Por el nombre del dominio.", "c. Todas las respuestas son correctas.", "d. Por la direcci√≥n IP del servidor de dominio."], c:2},
            {u:"Seguridad", q:"30. Un ataque de tipo Pharming consiste en...", o:["a. Clonar una web y posteriormente enviar un link a la v√≠ctima.", "b. Una modificaci√≥n en las solicitudes DNS.", "c. Un ataque de denegaci√≥n de servicio.", "d. Ninguna de las respuestas es correcta."], c:1},
            {u:"Servidor de Ficheros", q:"31. El puerto predeterminado para un servicio SFTP es...", o:["a. 21.", "b. Ninguna de las respuestas es correcta.", "c. 22.", "d. 23."], c:2},
            {u:"Seguridad / Malware", q:"32. Un virus de tipo gusano tiene como objetivo...", o:["a. Ninguna de las respuestas es correcta. (Su objetivo es propagarse).", "b. La obtenci√≥n de credenciales.", "c. Provocar una denegaci√≥n de servicio.", "d. El control remoto de la m√°quina."], c:0},
            {u:"Virtualizaci√≥n / Storage", q:"33. En una soluci√≥n de virtualizaci√≥n con dos servidores, ¬øCu√°ntos sistemas de almacenamiento necesito como m√≠nimo para almacenamiento compartido?", o:["a. 2 formando un cl√∫ster.", "b. S√≥lo 1.", "c. Ninguna de las respuestas es correcta.", "d. 2, uno por cada servidor hardware."], c:1},
            {u:"Seguridad / Firewall", q:"34. ¬øQu√© pol√≠tica debe seguirse hoy en d√≠a en la configuraci√≥n de un Firewall?", o:["a. Restrictiva.", "b. Todas las respuestas son correctas.", "c. Permisiva.", "d. Permisiva y restrictiva."], c:0},
            {u:"Virtualizaci√≥n / Redes", q:"35. ¬øPuedo virtualizar en un mismo servidor m√°quinas de redes diferentes?", o:["a. S√≠, pero necesito un switch f√≠sico para comunicarlas.", "b. S√≠, pero necesito un router f√≠sico com√∫n para comunicarlas.", "c. Ninguna de las respuestas es correcta.", "d. S√≠, pero necesito un switch virtual para comunicarlas."], c:3},
            {u:"Virtualizaci√≥n / Hardware", q:"36. Si tengo una m√°quina anfitri√≥n con 16GB de RAM, ¬øCu√°ntas m√°quinas virtuales de 4GB de RAM puedo tener corriendo simult√°neamente?", o:["a. Todas las que necesite.", "b. Ninguna respuesta es correcta.", "c. 4.", "d. 1."], c:1},
            {u:"Redes / DHCP", q:"37. Un servidor DHCP...", o:["a. Permite la asignaci√≥n de IPs din√°micamente.", "b. Permite la traducci√≥n de nombres de dominio.", "c. Se utiliza para la autenticaci√≥n de usuarios.", "d. Todas las respuestas son correctas."], c:0},
            {u:"Radius", q:"38. En un servidor Radius pueden crearse pol√≠ticas de acceso a red...", o:["a. Por direcci√≥n MAC.", "b. Todas las respuestas son correctas.", "c. Por usuario.", "d. Por direcci√≥n IP."], c:1},
            {u:"Radius / WiFi", q:"39. El m√©todo de autenticaci√≥n para el acceso a usuarios de una red WiFi en un servidor Radius debe ser...", o:["a. PEAP.", "b. EAP.", "c. Ninguna de las respuestas es correcta.", "d. PAP."], c:0},
            {u:"Radius / Linux", q:"40. ¬øCu√°l es uno de los problemas m√°s comunes a la hora de implementar Radius en Linux?", o:["a. Un alto n√∫mero de falsos negativos.", "b. Su complejidad en la configuraci√≥n.", "c. Ninguna de las respuestas es correcta.", "d. Un alto n√∫mero de falsos positivos."], c:1},
            {u:"Seguridad / Firewall", q:"41. Por norma general, un firewall eval√∫a las pol√≠ticas de seguridad configuradas...", o:["a. En base a la regla m√°s permisiva.", "b. De forma secuencial siendo la m√°s prioritaria aquella que se encuentre m√°s arriba en su tabla.", "c. En base a la regla menos restrictiva.", "d. En base a la regla m√°s restrictiva."], c:1},
            {u:"Seguridad / Firewall", q:"42. En un firewall convencional la siguiente l√≠nea nos indica: 192.168.1.100 --- 192.168.1.50 --- 80 --- Allow", o:["a. Ninguna de las respuestas es correcta. (La sintaxis implica Origen -> Destino. Aqu√≠ el origen es 100 y destino 50. Las otras opciones est√°n mal formuladas).", "b. La IP 192.168.1.50 puede acceder a la IP 192.168.1.100 por HTTP.", "c. La IP 192.168.1.100 puede acceder a la IP 192.168.1.50 por HTTPS.", "d. La IP 192.168.1.50 puede acceder a la IP 192.168.1.100 por HTTPS."], c:0},
            {u:"Virtualizaci√≥n", q:"43. El concepto de mover una m√°quina virtual de un servidor de virtualizaci√≥n a otro se denomina...", o:["a. VMotion.", "b. BeHappy.", "c. VMoving.", "d. VTransfer."], c:0},
            {u:"Radius / Seguridad", q:"44. Un servidor Radius es un sistema...", o:["a. De control de usuarios.", "b. De acceso a la red.", "c. De autenticaci√≥n de dispositivos.", "d. Todas las respuestas son correctas."], c:3},
            {u:"Virtualizaci√≥n / Windows", q:"45. ¬øC√≥mo se soluciona el error que provoca la instalaci√≥n de Windows Server en VirtualBox relativo a las licencias?", o:["a. Reiniciando la m√°quina virtual.", "b. Ninguna de las respuestas es correcta.", "c. Reinstalando el sistema operativo en modo Desktop.", "d. Desconectando la imagen ISO del DVD de la m√°quina virtual."], c:3},
            {u:"Seguridad / Malware", q:"46. Un virus de tipo troyano tiene como objetivo...", o:["a. Provocar una denegaci√≥n de servicio.", "b. La obtenci√≥n de credenciales.", "c. Ninguna de las respuestas es correcta.", "d. El control remoto de la m√°quina."], c:3},
            {u:"Servidores Web", q:"47. El puerto predeterminado de acceso a una web con certificado SSL es...", o:["a. Ninguna de las respuestas es correcta.", "b. 80.", "c. 22.", "d. 443."], c:3},
            {u:"Directorio Activo", q:"48. Si pierdo la conexi√≥n con el directorio activo la primera opci√≥n que debo probar para recuperar el acceso en la m√°quina cliente es...", o:["a. Acceder con una cuenta de Administrador Local.", "b. Desconectar el cliente de la red.", "c. Usar un sistema operativo en modo Live.", "d. Ninguna de las respuestas es correcta."], c:0},
            {u:"Redes / DHCP", q:"49. El tiempo m√°ximo que un servidor DHCP mantiene la informaci√≥n de asignaci√≥n de una direcci√≥n IP se denomina...", o:["a. Lease Time.", "b. Less Time.", "c. TTL.", "d. Ninguna de las respuestas es correcta."], c:0},
            {u:"Directorio Activo", q:"50. ¬øPuede existir un grupo con un √∫nico usuario en un Directorio Activo?", o:["a. No, dar√≠a un error, un grupo de usuarios debe tener un m√≠nimo de dos usuarios.", "b. S√≠.", "c. Ninguna de las respuestas es correcta.", "d. S√≠, s√≥lo si la cuenta de administrador tambi√©n pertenece al grupo."], c:1},

            // BLOQUE 2: CUESTIONARIOS DE AUTOEVALUACI√ìN POR TEMAS
            // TEMA 1: SISTEMAS OPERATIVOS (51-60)
            {u:"T1: Sistemas Operativos", q:"1. ¬øC√≥mo se puede denominar un Sistema Operativo que ejecuta dos programas al mismo tiempo?", o:["a. Multiusuario", "b. Monotarea", "c. Monousuario", "d. Ninguna de las anteriores es correcta. (Ser√≠a Multitarea)"], c:3},
            {u:"T1: Sistemas Operativos", q:"2. ¬øEl denominado l√≠nea de comandos en un sistema windows es?", o:["a. Una shell.", "b. Un sistema operativo MSDOS", "c. Un acceso al kernel", "d. Ninguna de las anteriores es correcta."], c:0},
            {u:"T1: Sistemas Operativos", q:"3. Bill Gates sufri√≥ un pantallazo azul en la presentaci√≥n de...", o:["a. Windows 98", "b. Windows 95", "c. Ninguna de las anteriores", "d. Windows 3.1"], c:0},
            {u:"T1: Sistemas Operativos", q:"4. El primer intento de Sistema Operativo Multitarea fue en...", o:["a. Ninguna de las anteriores es correcta.", "b. Windows 98", "c. Windows 95", "d. Windows 3.1"], c:3},
            {u:"T1: Sistemas Operativos", q:"5. El sistema Operativo DOS era...", o:["a. Ninguna de las anteriores es correcta.", "b. Multitarea", "c. Monousuario", "d. Multiusuario"], c:2},
            {u:"T1: Sistemas Operativos", q:"6. La ejecuci√≥n de tareas consecutivas se denomina....", o:["a. Multiusuario", "b. Multitarea", "c. Monousuario", "d. Ninguna de las anteriores es correcta."], c:3},
            {u:"T1: Sistemas Operativos", q:"7. La multitarea comenz√≥ a ser realmente operativo en el Sistema...", o:["a. Windows 95", "b. Windows 3.1", "c. Windows 98", "d. Ninguna de las anteriores es correcta."], c:0},
            {u:"T1: Sistemas Operativos", q:"8. Si un sistema operativo permite la creaci√≥n de varios usuarios...", o:["a. Es un Sistema multiusuario", "b. Depender√° de la ejecuci√≥n de las tareas.", "c. Ninguna de las anteriores es correcta.", "d. Puede ser un sistema Monousuario (Si solo permite un usuario activo a la vez)."], c:0},
            {u:"T1: Sistemas Operativos", q:"9. Un Smartphone es...", o:["a. Multiusuario", "b. Multitarea", "c. Todas las anteriores", "d. Ninguna de las anteriores"], c:1},
            {u:"T1: Sistemas Operativos", q:"10. Una tablet es...", o:["a. Todas las anteriores", "b. Multitarea", "c. Ninguna de las anteriores", "d. Multiusuario"], c:1},

            // TEMA 2: VIRTUALIZACI√ìN (61-70)
            {u:"T2: Virtualizaci√≥n", q:"1. ¬øC√≥mo puedo desplegar una m√°quina virtual de un sistema operativo en VirtualBox?", o:["a. Con un fichero .ovf", "b. Todas las anteriores son correctas", "c. Con un fichero .ova", "d. Desde un fichero .iso"], c:1},
            {u:"T2: Virtualizaci√≥n", q:"2. ¬øComo se interconectan varias m√°quinas virtuales entre s√≠ dentro del mismo servidor?", o:["a. Ninguna de las anteriores", "b. Depender√° de la configuraci√≥n de las tarjetas de red de las m√°quinas", "c. Se comunican por defecto", "d. A trav√©s de un switch virtual"], c:3},
            {u:"T2: Virtualizaci√≥n", q:"3. ¬øPuedo virtualizar en un mismo servidor m√°quinas de redes diferentes?", o:["a. S√≠, pero necesito un switch f√≠sico", "b. No, todas las m√°quinas deben estar en la misma red", "c. S√≠, pero necesito un router f√≠sico para comunicarlas", "d. Ninguna de las anteriores es correcta. (S√≠ se puede mediante switches virtuales)."], c:3},
            {u:"T2: Virtualizaci√≥n", q:"4. ¬øQu√© configuraci√≥n debo implementar en una tarjeta de red de una m√°quina virtual para comunicarlas con la red wifi que tengo configurada en un port√°til?", o:["a. NAT", "b. Todas las anteriores", "c. Bridge", "d. Ninguna de las anteriores"], c:2},
            {u:"T2: Virtualizaci√≥n", q:"5. ¬øQue extensi√≥n o tipo de fichero me permite migrar una m√°quina virtual a otros entornos?", o:["a. .ovf", "b. Ninguna de las anteriores", "c. .ova", "d. .vmf"], c:2},
            {u:"T2: Virtualizaci√≥n", q:"6. ¬øQue implica hacer un snapshot de una m√°quina virtual en VirtualBox?", o:["a. Un backup de las caracter√≠sticas hardware de la m√°quina", "b. Una imagen del estado de la m√°quina en un momento determinado.", "c. Un backup de las aplicaciones que est√°n corriendo en la m√°quina", "d. Un backup de la configuraci√≥n del sistema operativo de la m√°quina"], c:1},
            {u:"T2: Virtualizaci√≥n", q:"7. ¬øQu√© se entiende por la migraci√≥n de una m√°quina en caliente?", o:["a. Desplegar un fichero .ova de una m√°quina virtual", "b. Recuperar un backup de una m√°quina virtual", "c. Mover una m√°quina de un servidor a otro sin apagar la m√°quina", "d. Ninguna de las anteriores"], c:2},
            {u:"T2: Virtualizaci√≥n", q:"8. ¬øQue se entiende por Vmotion?", o:["a. Mover la m√°quina virtual de un servidor a otro", "b. La capacidad de crear la misma m√°quina virtual en el servidor", "c. Ninguna de las anteriores es correcta.", "d. Mover la m√°quina de un entorno a otro"], c:0},
            {u:"T2: Virtualizaci√≥n", q:"9. ¬øQu√© tipo de fichero me permite desplegar una m√°quina virtual preconfigurada en VirtualBox?", o:["a. .ova", "b. Ninguna de las anteriores", "c. .iso", "d. .vmf"], c:0},
            {u:"T2: Virtualizaci√≥n", q:"10. ¬øSe pueden virtualizar equipos hardware de red como switches o routers?", o:["a. S√≥lo para las m√°quinas virtuales del servidor", "b. No", "c. S√≠", "d. S√≥lo para m√°quinas de un entorno virtual aunque est√©n en distintos servidores f√≠sicos"], c:2},

            // TEMA 3: DIRECTORIO ACTIVO (71-80)
            {u:"T3: Directorio Activo", q:"1. ¬øCuantas cuentas de administrador de dominio pueden existir?", o:["a. Una", "b. Ninguna de las anteriores es correcta. (Pueden existir m√∫ltiples).", "c. Tantas como se hayan creado en el momento de instalar el servidor.", "d. Tantas como usuarios existan."], c:1},
            {u:"T3: Directorio Activo", q:"2. ¬øPuede el organigrama de una empresa afectar a la configuraci√≥n de un servidor de directorio activo?", o:["a. Depender√° del √°rea donde se produzcan los cambios", "b. NO", "c. si, si afecta al departamento de IT", "d. SI"], c:3},
            {u:"T3: Directorio Activo", q:"3. ¬øQue puede ocurrir si el servidor y una m√°quina tienen la hora del sistema distinta?", o:["a. Ninguna de las anteriores es correcta.", "b. Nada", "c. El usuario no podr√° acceder a la m√°quina con sus credenciales de dominio", "d. No es posible esa situaci√≥n si es una m√°quina Windows."], c:2},
            {u:"T3: Directorio Activo", q:"4. ¬øQue ventaja nos aporta instalar un servidor de directorio activo?", o:["a. Todas las respuestas anteriores son correctas.", "b. Controlar el acceso de los usuarios a las m√°quinas.", "c. Gestionar los usuarios de una empresa.", "d. Gestionar las m√°quinas de una empresa."], c:0},
            {u:"T3: Directorio Activo", q:"5. A nivel de seguridad un Directorio Activo nos permite...", o:["a. asignar las direcciones IP de las m√°quinas de forma controlada.", "b. Filtrar las direcciones IP por direcci√≥n Mac.", "c. Ninguna de las anteriores", "d. Obligar a los usuarios a cumplir una pol√≠tica de contrase√±as."], c:3},
            {u:"T3: Directorio Activo", q:"6. Cuando se instala un servidor de Directorio Activo, ¬øQu√© otro servidor debemos configurar?", o:["a. WEB", "b. DHCP", "c. DNS", "d. Ninguno"], c:2},
            {u:"T3: Directorio Activo", q:"7. ¬øQu√© par√°metro estamos obligados a configurar cuando instalamos un servidor de directorio activo?", o:["a. La direcci√≥n IP del servidor DNS", "b. La direcci√≥n IP del propio servidor", "c. La contrase√±a de administrador", "d. Todas las anteriores son correctas"], c:3},
            {u:"T3: Directorio Activo", q:"8. En relaci√≥n a los usuarios Un Directorio Activo...", o:["a. Permite establecer permisos a un grupo de usuarios.", "b. Permite establecer permisos a los usuarios.", "c. Permite controlar el acceso a las unidades de red.", "d. Todas las anteriores son correctas."], c:3},
            {u:"T3: Directorio Activo", q:"9. Puede instalarse un servidor de otro tipo en la misma m√°quina donde hay instalado un servidor de directorio Activo?", o:["a. S√≥lo si es una m√°quina Windows.", "b. SI", "c. S√≥lo si es una m√°quina Linux.", "d. NO"], c:1},
            {u:"T3: Directorio Activo", q:"10. Si un servidor de directorio activo se apaga...¬øPodr√≠an entrar los usuarios en sus m√°quinas?", o:["a. S√≠, si no ha pasado mucho tiempo desde que se apag√≥ el servidor.", "b. S√≠, pero s√≥lo durante un corto periodo de tiempo.", "c. S√≠ (Gracias a las credenciales en cach√©).", "d. No"], c:2},

            // TEMA 4: SERVIDORES WEB (81-90)
            {u:"T4: Servidores Web", q:"1. ¬øQu√© otro tipo de servidor suele instalarse en conjunto con un servidor WEB?", o:["a. Servidor DNS.", "b. Servidor de Base de Datos.", "c. Servidor DHCP.", "d. Ninguno."], c:1},
            {u:"T4: Servidores Web", q:"2. ¬øSi un servidor web est√° instalado con IIS...", o:["a. Es una m√°quina Linux", "b. Es una m√°quina Windows.", "c. Es un servidor f√≠sico.", "d. Es una m√°quina virtual."], c:1},
            {u:"T4: Servidores Web", q:"3. Con respecto a un servidor WEB...", o:["a. HTTPS es menos seguro que HTTP.", "b. HTTP es menos seguro que HTTPS.", "c. HTTP es mas seguro que HTTPS.", "d. HTTP es igual de seguro que HTTPS."], c:1},
            {u:"T4: Servidores Web", q:"4. Con respecto al protocolo HTTP...", o:["a. No incluye un certificado SSL.", "b. El servicio corre en el puerto 80 por defecto.", "c. Todas las anteriores son correctas.", "d. No es seguro."], c:2},
            {u:"T4: Servidores Web", q:"5. Con respecto al protocolo HTTPS...", o:["a. El servicio corre en el puerto 445 por defecto.", "b. El servicio corre en el puerto 80 por defecto.", "c. El servicio corre en el puerto 443 por defecto.", "d. Ninguna de las anteriores."], c:2},
            {u:"T4: Servidores Web", q:"6. Lampp es...", o:["a. Una aplicaci√≥n de FrontEnd.", "b. Una aplicaci√≥n para la instalaci√≥n de un servidor web.", "c. Todas las anteriores son correctas. (Incluye Linux, Apache, MySQL, PHP, Perl).", "d. Una aplicaci√≥n para la instalaci√≥n de Bases de Datos."], c:1},
            {u:"T4: Servidores Web", q:"7. Puede instalarse un servidor de otro tipo en la misma m√°quina donde hay instalado un servidor web?", o:["a. S√≠.", "b. S√≥lo si es una m√°quina Linux.", "c. NO,", "d. S√≥lo si es una m√°quina Windows."], c:0},
            {u:"T4: Servidores Web", q:"8. Si queremos configurar un servidor web para ser accesible por HTTPS necesitamos instalar...", o:["a. Un servidor web en una m√°quina Linux", "b. Instalar un servidor Apache.", "c. Todas las anteriores son correctas.", "d. Un certificado SSL."], c:3},
            {u:"T4: Servidores Web", q:"9. Si tengo un servidor web sobre Apache...", o:["a. Es una m√°quina Windows.", "b. Puede ser una m√°quina Linux o Windows.", "c. Ninguna de las anteriores es correcta.", "d. Es una m√°quina Linux."], c:1},
            {u:"T4: Servidores Web", q:"10. Un ataque de tipo Phishing consiste en....", o:["a. Todas las anteriores son correctas.", "b. Clonar una p√°gina web y presentarla como aut√©ntica", "c. Intentar obtener las credenciales de un usuario accediendo a una web.", "d. Falsear una web y enviar correos con un link que accede a la web falsa"], c:0},

            // TEMA 5: SERVIDOR DE FICHEROS (91-100)
            {u:"T5: Servidor de Ficheros", q:"1. ¬øC√≥mo se debe permitir el acceso de varios usuarios a una unidad de red?", o:["a. Creando permisos de grupos y en las unidades de red.", "b. Creando permisos de usuario en las unidades de red.", "c. Creando permisos de usuario en el directorio activo.", "d. Todas las anteriores son correctas"], c:0},
            {u:"T5: Servidor de Ficheros", q:"2. ¬øC√≥mo se puede mejorar la tolerancia a fallos de un servidor de ficheros?", o:["a. Mediante sistemas de Backup.", "b. Con Redundancia de servidores.", "c. Todas las anteriores son correctas.", "d. Mediante una configuraci√≥n en RAID."], c:2},
            {u:"T5: Servidor de Ficheros", q:"3. ¬øExiste relaci√≥n entre un servidor de ficheros y un servidor de directorio activo?", o:["a. No", "b. Ninguna de las anteriores es correcta.", "c. Si, para el control de acceso a las unidades de red.", "d. S√≠, para el particionamiento de las unidades de red."], c:2},
            {u:"T5: Servidor de Ficheros", q:"4. ¬øPuede el organigrama de una empresa afectar a la configuraci√≥n de un servidor de Ficheros?", o:["a. SI", "b. NO", "c. Depender√° del √°rea donde se produzcan los cambios", "d. si, si afecta al departamento de IT"], c:0},
            {u:"T5: Servidor de Ficheros", q:"5. ¬øPueden coexistir dos servidores de ficheros sirviendo las mismas unidades de red y sus mismos datos?", o:["a. Si, mediante un sistema de almacenamiento compartido.", "b. Todas las anteriores son correctas.", "c. S√≠ siempre y cuando las m√°quinas virtuales de los servidores est√©n en el mismo servidor f√≠sico.", "d. S√≠, mediante una configuraci√≥n de Discos en RAID."], c:0},
            {u:"T5: Servidor de Ficheros", q:"6. ¬øUn servidor de ficheros guarda relaci√≥n con un servidor web?", o:["a. No, deber√≠an instalarse adem√°s en m√°quinas diferentes.", "b. Se puede configurar el servidor de ficheros para acceder v√≠a web.", "c. No", "d. Ninguna de las anteriores es correcta."], c:1},
            {u:"T5: Servidor de Ficheros", q:"7. El puerto por defecto del protocolo FTP es...", o:["a. Ninguna de las anteriores", "b. 22.", "c. 23.", "d. 21."], c:3},
            {u:"T5: Servidor de Ficheros", q:"8. El puerto por defecto del protocolo SCP es...", o:["a. 23.", "b. 21.", "c. 22.", "d. 25."], c:2},
            {u:"T5: Servidor de Ficheros", q:"9. Indique cual de los siguientes protocolos es mas seguro", o:["a. TFTP.", "b. Todas las respuestas anteriores son correctas.", "c. SCP.", "d. FTP."], c:2},
            {u:"T5: Servidor de Ficheros", q:"10. Por norma general, si se instala un servidor de ficheros en una m√°quina virtual, los discos de almacenamiento estar√°n...", o:["a. En un servidor f√≠sico.", "b. Ninguna de las anteriores es correcta.", "c. En el mismo servidor f√≠sico donde se aloja la m√°quina virtual.", "d. En un sistema de almacenamiento f√≠sico independiente."], c:3}
        ];

        let questions = [];
        let hits = 0, fails = 0, done = 0;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function initQuiz(shouldShuffle = true) {
            questions = JSON.parse(JSON.stringify(rawQuestions));
            if(shouldShuffle) shuffle(questions);
            
            hits = 0; fails = 0; done = 0;
            updateStats();
            render();
            document.getElementById('top').scrollIntoView({behavior: 'smooth'});
        }

        function updateStats() {
            document.getElementById('hits').innerText = hits;
            document.getElementById('fails').innerText = fails;
            document.getElementById('current').innerText = `${done}/${questions.length}`;
        }

        function render() {
            const box = document.getElementById('quiz-box');
            box.innerHTML = '';
            
            questions.forEach((data, i) => {
                const card = document.createElement('div');
                card.className = 'q-card';
                card.innerHTML = `
                    <span class="theme-badge">${data.u}</span>
                    <div class="question-text">${data.q}</div>
                    <div class="options-grid" id="opts-${i}">
                        ${data.o.map((opt, oi) => `
                            <div class="option" onclick="check(${i}, ${oi})">
                                ${opt}
                            </div>
                        `).join('')}
                    </div>
                `;
                box.appendChild(card);
            });
        }

        window.check = (qi, oi) => {
            const container = document.getElementById(`opts-${qi}`);
            if(container.classList.contains('disabled')) return;
            
            const options = container.querySelectorAll('.option');
            const correctIndex = questions[qi].c;
            
            if(oi === correctIndex) {
                options[oi].classList.add('correct');
                hits++;
            } else {
                options[oi].classList.add('wrong');
                options[correctIndex].classList.add('correct');
                fails++;
            }
            
            done++;
            container.classList.add('disabled');
            updateStats();
            
            if(done === questions.length) showResults();
        };

        function showResults() {
            const grade = ((hits / questions.length) * 10).toFixed(2);
            const gradeEl = document.getElementById('final-grade');
            const titleEl = document.getElementById('result-title');
            
            gradeEl.innerText = grade;
            if(grade >= 5) {
                gradeEl.style.background = 'var(--success)';
                titleEl.innerText = "üéâ ¬°Aprobado!";
            } else {
                gradeEl.style.background = 'var(--error)';
                titleEl.innerText = "‚ùå Necesitas repasar";
            }
            
            document.getElementById('final-stats').innerHTML = `
                Aciertos: <span style="color:var(--success); font-weight:bold">${hits}</span><br>
                Fallos: <span style="color:var(--error); font-weight:bold">${fails}</span><br>
                Preguntas Totales: ${questions.length}
            `;
            
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('results-modal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('results-modal').style.display = 'none';
        }

        initQuiz(false);
    </script>
</body>
</html>